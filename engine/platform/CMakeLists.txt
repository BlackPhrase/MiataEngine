# Detect the impl type
if(NOT IDTECHRED_ENGINE_IMPL_TYPE)
    set(IDTECHRED_ENGINE_IMPL_TYPE Null CACHE STRING
        "Choose the type of implementation, options are: Null Windows."
        FORCE
	)
    set_property(CACHE IDTECHRED_ENGINE_IMPL_TYPE PROPERTY STRINGS
		Null
		Windows
		Linux
		#Sun
	)
endif()

string(TOLOWER ${IDTECHRED_ENGINE_IMPL_TYPE} IDTECHRED_ENGINE_IMPL_TYPE)

file(GLOB IDTECHRED_PLATFORM_SOURCES
	${CMAKE_CURRENT_SOURCE_DIR}/${IDTECHRED_ENGINE_IMPL_TYPE}/*.cpp
)

set(PROJECT_SOURCES
	${PROJECT_SOURCES}
	${IDTECHRED_PLATFORM_SOURCES}
	PARENT_SCOPE
)